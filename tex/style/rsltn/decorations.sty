% ----------------------------- resolution v0.1.0 ------------------------------
% 
% resolution is a Neovim config for writing TeX and doing computational math.
% 
% This provides built-in styling for title, header, footer, page #, etc.
% 
% Copyright (C) 2023 Roshan Truax
% 
% This program is free software: you can redistribute it and/or modify it under 
% the terms of the GNU General Public License as published by the Free Software 
% Foundation, either version 3 of the License, or (at your option) any later 
% version.
% 
% This program is distributed in the hope that it will be useful, but WITHOUT ANY
% WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
% PARTICULAR PURPOSE. See the GNU General Public License for more details.
% 
% ------------------------------------------------------------------------------

% ---------------------------- General Formatting ------------------------------


\RequirePackage[margin=1.35in]{geometry}                % margins
\RequirePackage[skip=11pt plus1pt, indent=0pt]{parskip} % spacing and indentation
\setcounter{MaxMatrixCols}{20}                          % matrix maximum size

% ----------------------------------- Code -------------------------------------

\RequirePackage{listings} % code environment

% Standard rsltn code styling
\lstdefinestyle{rstln-standard}{
    basicstyle=\footnotesize\ttfamily,
    columns=fullflexible,
    frame=single,
    numbers=left,
    numbersep=10pt,
    numberstyle=\footnotesize\color{rsltnNumbers}\ttfamily,
    commentstyle=\color{rsltnComment},
    keywordstyle=\color{rsltnKeyword},
    stringstyle=\color{rsltnString},
    showstringspaces=false,
    breaklines=true,
    postbreak=\mbox{\textcolor{rsltnLinebreak}{$\hookrightarrow$}\space},
    tabsize=4,
}
\lstset{style=rstln-standard}


\lst@definelanguage{GAP}{%
    morekeywords={%
    Assert,Info,IsBound,QUIT,%
    TryNextMethod,Unbind,and,break,%
    continue,do,elif,%
    else,end,false,fi,for,%
    function,if,in,local,%
    mod,not,od,or,%
    quit,rec,repeat,return,%
    then,true,until,while%
    },%
    sensitive,%
    morecomment=[l]\#,%
    morestring=[b]",%
    morestring=[b]â€™,%
}[keywords,comments,strings]

% ---------------------------------- Title -------------------------------------

\def\@maketitle{
    \newpage
    \begin{center}
        {\Large \textsc \@title \par}
        \vskip 1em
        {\large
            \lineskip .5em
            \textsc\@author \hskip1em $\bullet$ \hskip1em \textsc\@date
        }
          \vskip 1em
        \end{center}
      \par
      \vskip 1em
}

% -------------------------------- Page Style ----------------------------------

\RequirePackage{titleps}
\newpagestyle{rsltnpagestyle}{
  \headrule
  \sethead{\thesubsection \quad \subsectiontitle}{}{\sectiontitle}
  \setfoot{}{\thepage}{}
}
\settitlemarks{section,subsection,subsubsection}
\pagestyle{rsltnpagestyle}

% ------------------------------------------------------------------------------
